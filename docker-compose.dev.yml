version: '3.8'

# 开发环境专用配置
# 使用方法: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up

services:
  streamlit-app:
    # 开发模式下启用文件监听和热重载
    environment:
      - STREAMLIT_SERVER_FILE_WATCHER_TYPE=poll
      - STREAMLIT_SERVER_RUN_ON_SAVE=true
      - STREAMLIT_BROWSER_GATHER_USAGE_STATS=false
      - PYTHONUNBUFFERED=1
      - STREAMLIT_LOGGER_LEVEL=debug
    # 开发模式下可以挂载更多目录用于调试
    volumes:
      - ./analyse:/app/analyse
      - ./scripts:/app/scripts
      - ./requirements:/app/requirements  # 挂载依赖文件用于开发调试

